echo "Running DATE:" $(date +"%Y-%m-%d %H:%M")
export CUDA_VISIBLE_DEVICES=2

DATE=`date '+%Y%m%d_%H%M'`
echo "Save as: " $DATE

# declare -a envs=('pettingzoo_boxing_v1' 'pettingzoo_pong_v2' 'pettingzoo_surround_v1' 'pettingzoo_tennis_v2')
declare -a envs=('pettingzoo_boxing_v1' 'slimevolley_SlimeVolley-v0')

# declare -a methods=('selfplay2' 'fictitious_selfplay2' 'nxdo2' 'nfsp' 'nash_dqn' 'nash_dqn_exploiter')
declare -a methods=('nash_dqn_factorized' 'nash_dqn')

LoadFrom='20220405_1609'
mkdir -p log/exploit_$LoadFrom

for env in ${envs[@]}; do
    for method in ${methods[@]}; do
        echo python general_exploit.py --env $env --method $method --load_id $LoadFrom --save_id $DATE output log to: log/exploit_$LoadFrom/${env}_${method}.log &
        nohup python general_exploit.py --env $env --method $method --load_id $LoadFrom --save_id $DATE > log/exploit_$LoadFrom/${env}_${method}.log &
    done
done
